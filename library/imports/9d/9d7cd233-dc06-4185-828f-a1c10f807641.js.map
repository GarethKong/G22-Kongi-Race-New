{"version":3,"sources":["assets/Scripts/Screen/Home/HomePlayerItem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAGM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C;IAMI,6BAAY,QAAgB,EAAE,MAAc,EAAE,IAAY,EAAE,MAAe;QAL3E,aAAQ,GAAW,CAAC,CAAC;QACrB,SAAI,GAAW,EAAE,CAAC;QAClB,WAAM,GAAW,EAAE,CAAC;QACpB,WAAM,GAAY,KAAK,CAAC;QAGpB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;IACL,0BAAC;AAAD,CAZA,AAYC,IAAA;AAZY,kDAAmB;AAehC;IAA4C,kCAAY;IAAxD;QAAA,qEAkDC;QA/CW,YAAM,GAAc,IAAI,CAAC;QAGzB,aAAO,GAAa,IAAI,CAAC;QAGzB,uBAAiB,GAAc,IAAI,CAAC;;IAyChD,CAAC;IAjCG,+BAAM,GAAN;QACI,8BAA8B;IAClC,CAAC;IAED,6BAAI,GAAJ,UAAK,IAAyB,EAAE,KAAa,EAAE,cAAmB;QAC9D,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QACzB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;QAE1B,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC;IAED,mCAAU,GAAV,UAAW,IAA0B;QACjC,IAAI,IAAI,GAAG,IAAI,CAAC;QAChB,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC;QAChC,IAAI,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,IAAI,SAAS,EAAE;YAC/C,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAC,EAAE,UAAU,GAAG,EAAE,GAAG;gBAC9D,IAAI,GAAG,EAAE;oBACL,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;iBACpC;qBAAM;oBACH,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,EAAE,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;iBACrD;YACL,CAAC,CAAC,CAAC;SACN;IACL,CAAC;IAGD,0CAAiB,GAAjB;QACI,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACjF,CAAC;IAED,0CAAiB,GAAjB;IAEA,CAAC;IA9CD;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;kDACa;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;mDACc;IAGjC;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6DACwB;IAT3B,cAAc;QADlC,OAAO;OACa,cAAc,CAkDlC;IAAD,qBAAC;CAlDD,AAkDC,CAlD2C,EAAE,CAAC,SAAS,GAkDvD;kBAlDoB,cAAc","file":"","sourceRoot":"/","sourcesContent":["import player = FBInstant.player;\nimport assetManager = cc.assetManager;\n\nconst {ccclass, property} = cc._decorator;\n\nexport class PlayerConnectedData {\n    playerID: number = 0;\n    name: string = \"\";\n    avatar: string = \"\";\n    isSelf: boolean = false;\n\n    constructor(playerID: number, avatar: string, name: string, isSelf: boolean) {\n        this.playerID = playerID;\n        this.name = name;\n        this.avatar = avatar;\n        this.isSelf = isSelf;\n    }\n}\n\n@ccclass\nexport default class HomePlayerItem extends cc.Component {\n\n    @property(cc.Sprite)\n    private avatar: cc.Sprite = null;\n\n    @property(cc.Label)\n    private lblName: cc.Label = null;\n\n    @property(cc.Button)\n    private btnPlayWithFriend: cc.Button = null;\n\n    currentCallback: any;\n    currentPlayer: PlayerConnectedData;\n\n\n    playerIndex: number;\n\n    onLoad() {\n        // this.pathNode.zIndex = - 1;\n    }\n\n    init(data: PlayerConnectedData, index: number, inviteFriendCb: any): void {\n        this.playerIndex = index;\n        this.currentPlayer = data;\n\n        this.updateItem(data);\n    }\n\n    updateItem(data:  PlayerConnectedData): void {\n        let that = this;\n        this.lblName.string = data.name;\n        if (data.avatar != \"\" && data.avatar != undefined) {\n            cc.loader.load({url: data.avatar, type: 'png'}, function (err, img) {\n                if (err) {\n                    console.log(\"Load image failed\");\n                } else {\n                    that.avatar.spriteFrame = new cc.SpriteFrame(img);\n                }\n            });\n        }\n    }\n\n\n    handleButtonClick() {\n        this.currentCallback(this.currentPlayer.playerID, this.currentPlayer.isSelf);\n    }\n\n    onButtonPlayClick(): void {\n\n    }\n}\n"]}